{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst API_KEY = '42024454-8ed2ac239bcd0125bd4fa3d9e';\n\nconst fullUrl = `${BASE_URL}?key=${API_KEY}`;\nconsole.log(fullUrl);\n\nfunction fetchImages(q) {\n  return fetch(`${fullUrl}&q=${q}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return resp.json();\n  });\n}\n\nconst formInit = document.querySelector('.searchPhotos');\nconst cardContainer = document.querySelector('.card_container');\n\nformInit.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const searchInput = formInit.elements.search;\n  const searchValue = searchInput.value.trim();\n\n  if (!searchValue) {\n    iziToast.warning({\n      title: 'Warning',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n\n  fetchImages(searchValue)\n    .then(data => {\n      createMarkup(data.hits);\n      initializeLightbox();\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n    });\n\n  searchInput.value = '';\n}\n\nfunction createMarkup(images) {\n  console.log(images);\n  cardContainer.innerHTML = '';\n\n  images.forEach(image => {\n    const card = document.createElement('a');\n    card.classList.add('card');\n    card.href = image.largeImageURL;\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    card.appendChild(img);\n    cardContainer.appendChild(card);\n  });\n}\n\nfunction initializeLightbox() {\n  const lightbox = new SimpleLightbox('.card_container a');\n  lightbox.refresh();\n}\n"],"names":["BASE_URL","API_KEY","fullUrl","fetchImages","q","resp","formInit","cardContainer","handleSubmit","event","searchInput","searchValue","iziToast","data","createMarkup","initializeLightbox","error","images","image","card","img","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAW,0BACXC,EAAU,qCAEVC,EAAU,GAAGF,SAAgBC,IACnC,QAAQ,IAAIC,CAAO,EAEnB,SAASC,EAAYC,EAAG,CACtB,OAAO,MAAM,GAAGF,OAAaE,GAAG,EAAE,KAAKC,GAAQ,CAC7C,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAK,MAChB,CAAG,CACH,CAEA,MAAMC,EAAW,SAAS,cAAc,eAAe,EACjDC,EAAgB,SAAS,cAAc,iBAAiB,EAE9DD,EAAS,iBAAiB,SAAUE,CAAY,EAEhD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAcJ,EAAS,SAAS,OAChCK,EAAcD,EAAY,MAAM,KAAI,EAE1C,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CACf,MAAO,UACP,QACE,0EACR,CAAK,EACD,MACD,CAEDT,EAAYQ,CAAW,EACpB,KAAKE,GAAQ,CACZC,EAAaD,EAAK,IAAI,EACtBE,GACN,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CACnD,CAAK,EAEHN,EAAY,MAAQ,EACtB,CAEA,SAASI,EAAaG,EAAQ,CAC5B,QAAQ,IAAIA,CAAM,EAClBV,EAAc,UAAY,GAE1BU,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,MAAM,EACzBA,EAAK,KAAOD,EAAM,cAElB,MAAME,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAEhBC,EAAK,YAAYC,CAAG,EACpBb,EAAc,YAAYY,CAAI,CAClC,CAAG,CACH,CAEA,SAASJ,GAAqB,CACX,IAAIM,EAAe,mBAAmB,EAC9C,QAAO,CAClB"}